@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 60 13% 95.5%;
    --foreground: 290 5.4% 22%;
    --card: 0 0% 100%;
    --card-foreground: 290 5.4% 22%;
    --popover: 0 0% 100%;
    --popover-foreground: 290 5.4% 22%;
    --primary: 191.1 78.9% 33.5%;
    --primary-foreground: 210 40% 98%;
    --secondary: 68 62.4% 55.1%;
    --secondary-foreground: 290 5.4% 18%;
    --muted: 78 12.5% 84.3%;
    --muted-foreground: 275 5.7% 41.6%;
    --accent: 68.4 67.1% 83.3%;
    --accent-foreground: 290 5.4% 20%;
    --destructive: 12 71% 45%;
    --destructive-foreground: 0 0% 98%;
    --border: 78 12.5% 84.3%;
    --input: 78 12.5% 84.3%;
    --ring: 191.1 78.9% 33.5%;
    --radius: 0.9rem;
  }

  * {
    @apply border-border;
    box-sizing: border-box;
  }

  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    font-family: "Space Grotesk", "Segoe UI", sans-serif;
    line-height: 1.45;
    background-image:
      radial-gradient(
        900px circle at top,
        rgba(18, 128, 153, 0.14),
        transparent 60%
      ),
      radial-gradient(
        800px circle at bottom right,
        rgba(193, 212, 69, 0.12),
        transparent 55%
      );
  }

  a {
    color: inherit;
    text-decoration: none;
  }
}

@layer components {
  .button {
    @apply inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 text-sm font-semibold text-primary-foreground shadow-sm transition hover:bg-primary/90;
  }

  .button.secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/85;
  }

  .button.ghost {
    @apply border border-border bg-transparent text-muted-foreground hover:bg-accent/70;
  }

  .section-title {
    @apply text-base font-semibold text-foreground;
  }

  .field {
    @apply flex flex-col gap-2;
  }

  .field label {
    @apply text-sm font-medium text-muted-foreground;
  }

  .field input,
  .field select,
  .field textarea {
    @apply rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  .field textarea {
    @apply min-h-[96px] resize-y;
  }

  .field.computed {
    @apply rounded-xl border border-border bg-muted/60 p-3;
  }

  .field.computed input {
    @apply border-amber-200 bg-amber-50 text-lg font-semibold;
  }

  .helper {
    @apply text-xs text-muted-foreground;
  }

  .error {
    @apply text-xs text-destructive;
  }

  .badge {
    @apply inline-flex items-center gap-2 rounded-full border border-border bg-muted/60 px-2.5 py-1 text-xs font-semibold text-muted-foreground;
  }

  .badge.done {
    @apply border-emerald-200 bg-emerald-100 text-emerald-700;
  }

  .badge.large {
    @apply px-3 py-1.5 text-sm;
  }

  .warning {
    @apply rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-900;
  }

  .list-grid {
    @apply grid gap-3 sm:grid-cols-2;
  }

  .summary pre {
    @apply rounded-xl bg-slate-900 p-3 text-xs text-slate-100;
  }

  .table {
    @apply w-full border-collapse text-sm;
  }

  .table td {
    @apply border-b border-border py-1.5;
  }

  .dashboard {
    @apply flex min-h-[calc(100vh-32px)] flex-col gap-4 rounded-2xl border border-border bg-foreground p-4 text-background shadow-2xl;
  }

  .dashboard-hero {
    @apply grid gap-3 lg:grid-cols-[1.2fr_1fr];
  }

  .dashboard-card {
    @apply rounded-xl border border-border bg-card p-6 text-foreground shadow-lg;
  }

  .dashboard-title {
    @apply text-2xl font-bold;
  }

  .dashboard-sub {
    @apply text-sm text-muted-foreground;
  }

  .dashboard-actions {
    @apply mt-3 flex flex-wrap gap-2;
  }

  .athlete-grid {
    @apply mt-3 grid grid-cols-2 gap-3;
  }

  .athlete-item {
    @apply flex flex-col gap-1 text-xs text-muted-foreground;
  }

  .athlete-item strong {
    @apply text-sm text-foreground;
  }

  .athlete-notes {
    @apply col-span-2;
  }

  .dashboard-row {
    @apply flex flex-wrap items-center justify-between gap-3;
  }

  .dashboard-label {
    @apply text-sm text-muted-foreground;
  }

  .dashboard-select {
    @apply h-10 rounded-md border border-input bg-background px-3 text-sm text-foreground shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  .dashboard-stat {
    @apply min-w-[180px] rounded-xl border border-border bg-background px-4 py-3;
  }

  .dashboard-stat-label {
    @apply text-xs text-muted-foreground;
  }

  .dashboard-stat-value {
    @apply text-sm font-semibold text-foreground;
  }

  .dashboard-donut {
    @apply mt-4 flex flex-wrap items-center gap-4;
  }

  .dashboard-donut-meta {
    @apply flex flex-col gap-1.5;
  }

  .dashboard-grid {
    @apply grid gap-3 sm:grid-cols-2 lg:grid-cols-3;
  }

  .dashboard-summary {
    @apply grid gap-3 sm:grid-cols-2;
  }

  .summary-card {
    @apply rounded-xl border border-border bg-card p-6 shadow-md;
  }

  .summary-title {
    @apply text-lg font-bold text-primary;
  }

  .summary-text {
    @apply text-base text-foreground leading-relaxed;
  }

  .summary-text + .summary-text {
    @apply mt-2;
  }

  .glossary {
    @apply grid gap-2;
  }

  .glossary-row {
    @apply grid gap-1;
  }

  .glossary-term {
    @apply text-xs font-bold uppercase tracking-wider text-foreground;
  }

  .glossary-text {
    @apply text-sm text-muted-foreground leading-relaxed;
  }

  .dashboard-report {
    @apply grid gap-8;
  }

  .report-card {
    @apply rounded-xl border border-border bg-card p-6 shadow-md;
  }

  .report-header {
    @apply flex flex-wrap items-start justify-between gap-3;
  }

  .report-title {
    @apply text-xl font-bold text-foreground;
  }

  .report-desc {
    @apply text-base text-muted-foreground;
  }

  .report-body {
    @apply grid gap-3;
  }

  .report-row-pair {
    @apply grid gap-3 lg:grid-cols-2;
  }

  .report-result {
    @apply h-full rounded-xl border border-border bg-muted/40 p-4 text-foreground;
  }

  .report-result-title {
    @apply text-xs font-semibold uppercase tracking-wider text-foreground;
  }

  .report-result-level {
    @apply text-xl font-bold text-foreground;
  }

  .report-row {
    @apply flex items-center justify-between gap-3 text-sm;
  }

  .report-result .report-row {
    @apply justify-start gap-3;
  }

  .report-result .report-row:first-of-type strong {
    @apply text-2xl font-bold text-foreground;
  }

  .report-note {
    @apply mt-2 text-sm text-muted-foreground leading-relaxed;
  }

  .report-section {
    @apply h-full rounded-xl border border-border bg-background p-4 text-foreground;
  }

  .report-scale {
    @apply mt-2 flex flex-col gap-2;
  }

  .report-scale-track {
    @apply relative flex h-3 gap-1 rounded-full bg-muted;
    overflow: visible;
  }

  .report-scale-segment {
    @apply flex-1;
  }

  .report-scale-labels {
    @apply flex justify-between text-xs text-muted-foreground;
  }

  .report-section-title {
    @apply text-xs font-bold uppercase tracking-wider text-foreground;
  }

  .detail-block + .detail-block {
    @apply mt-2;
  }

  .detail-label {
    @apply text-xs font-bold uppercase tracking-wider text-primary;
  }

  .detail-text {
    @apply text-sm text-foreground leading-relaxed;
  }

  .dashboard-details {
    @apply grid gap-3;
  }

  .detail-card {
    @apply rounded-xl border border-border bg-card p-6 shadow-md;
  }

  .detail-title {
    @apply text-base font-bold;
  }

  .dashboard-tile {
    @apply flex min-h-[130px] flex-col gap-2 rounded-xl border border-border bg-background p-4;
  }

  .tile-header {
    @apply flex items-center justify-between gap-2;
  }

  .tile-title {
    @apply text-xs font-bold uppercase tracking-widest text-primary;
  }

  .tile-pill {
    @apply rounded-full border border-transparent px-2.5 py-1 text-[11px] font-semibold;
  }

  .tile-value {
    @apply text-2xl font-bold text-foreground;
  }

  .tile-meta {
    @apply text-sm font-medium text-muted-foreground;
  }
}

.donut {
  --size: 150px;
  --thickness: 18px;
  --value: 0;
  --color: #22c55e;
  width: var(--size);
  height: var(--size);
  border-radius: 999px;
  background: conic-gradient(
    var(--color) calc(var(--value) * 1%),
    rgba(255, 255, 255, 0.12) 0
  );
  display: grid;
  place-items: center;
}

.donut-center {
  width: calc(var(--size) - var(--thickness) * 2);
  height: calc(var(--size) - var(--thickness) * 2);
  background: white;
  border-radius: 999px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.donut-value {
  font-size: 40px;
  font-weight: 800;
  color: hsl(var(--foreground));
}

.donut-label {
  font-size: 11px;
  color: hsl(var(--muted-foreground));
}

.report-scale-marker {
  position: absolute;
  top: -14px;
  width: 0;
  height: 0;
  transform: translateX(-50%);
  z-index: 1;
  border-left: 9px solid transparent;
  border-right: 9px solid transparent;
  border-top: 14px solid var(--marker-color, #3a353b);
  filter: drop-shadow(0 1px 0 rgba(58, 53, 59, 0.35));
}

.report-scale-marker::after {
  content: "";
}

.report-scale-dot {
  position: absolute;
  top: 50%;
  width: 3px;
  height: 3px;
  transform: translate(-50%, -50%);
  border-radius: 999px;
  background: var(--marker-color, #3a353b);
  box-shadow: 0 0 0 1px #f5f5f2;
  z-index: 2;
}
